# 开发一个命令行查询的字典工具
# 使用nodejs 开发，方便跨平台，以后可以使用npm i -g 来安装
# 数据库设计
## sqlite sql

## 简化后的表格


```sqlite
CREATE TABLE IF NOT EXISTS "stardict" (
"id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL UNIQUE,
"word" VARCHAR(64) COLLATE NOCASE NOT NULL UNIQUE,
"phonetic" VARCHAR(64),
"translation" TEXT,
"tag" VARCHAR(64),
"bnc" INTEGER DEFAULT(NULL),
"frq" INTEGER DEFAULT(NULL),
"exchange" TEXT,
);
CREATE UNIQUE INDEX "stardict_1" ON stardict (id);
CREATE UNIQUE INDEX "stardict_2" ON stardict (word);
CREATE INDEX "stardict_3" ON stardict (sw, word collate nocase);
CREATE INDEX "sd_1" ON stardict (word collate nocase);
```
## 表格字段描述


| 字段        | 解释                                                       |
| ----------- | ---------------------------------------------------------- |
| word        | 单词名称                                                   |
| phonetic    | 音标，以英语英标为主                                       |
| translation | 单词释义（中文），每行一个释义                             |
| tag         | 字符串标签：zk/中考，gk/高考，cet4/四级 等等标签，空格分割 |
| bnc         | 英国国家语料库词频顺序                                     |
| frq         | 当代语料库词频顺序                                         |
| exchange    | 时态复数等变换，使用 "/" 分割不同项目，见后面表格          |

### exchange 字段的描述：
某个动词的各种时态是什么？某个形容词的比较级和最高级又是什么？某个名词的复数呢？这个单词是由哪个单词怎么演变而来的？它的原型单词（Lemma）是什么？

可能大家注意到上表有一个 Exchange 字段，它就是来做这个事情的，这是本词典一大特色之一，格式如下：

类型1:变换单词1/类型2:变换单词2

比如 perceive 这个单词的 exchange 为：

d:perceived/p:perceived/3:perceives/i:perceiving

意思是 perceive 的过去式（p） 为 perceived，过去分词（d）为 perceived, 现在分词（'i'）是 perceiving，第三人称单数（3）为 perceives。冒号前面具体项目为：
类型 	说明
p 	过去式（did）
d 	过去分词（done）
i 	现在分词（doing）
3 	第三人称单数（does）
r 	形容词比较级（-er）
t 	形容词最高级（-est）
s 	名词复数形式
0 	Lemma，如 perceived 的 Lemma 是 perceive
1 	Lemma 的变换形式，比如 s 代表 apples 是其 lemma 的复数形式



# 功能描述
- 查询单词

```shell
cdict <word>
```
- 记录生词
```shell
cdict -r <word>
cdict --record <word>
# 如果没有指定word ，默认使用上一词条 
```

- 复习生词 （从随机从生词本中找出来）
```shell
cdict --recall
cdict -c
```
- 查看生词列表
```shell
cdict --list
```

# 英文转中文数据来自 https://github.com/skywind3000/ECDICT